function Drag(){this.obj=null,this.disX=0,this.disY=0,this.settings={id:"",toDown:function(){},toUp:function(){}}}function $(t){return document.getElementById(t)}function extend(t,e){for(var n in e)t[n]=e[n]}function multiSelect(){this.settings={toolbox:!1,callback:function(){}}}function extend(t,e){for(var n in e)t[n]=e[n]}function $(t){return document.getElementById(t)}function addClass(t,e){var n=t.className.split("");if(!n[0])return void(t.className=e);for(var i=0;i<n.length;i++)if(n[i]==e)return;t.className+=" "+e}function removeClass(t,e){var n=t.className.split(" ");if(n[0])for(var i=0;i<n.length;i++)if(n[i]==e)return n.splice(i,1),void(t.className=n.join(" "))}function hasClass(t,e){var n=!1,i=t.className.split(" ");if(!i[0])return n;for(var a=0;a<i.length;a++)if(i[a]==e)return n=!0}function popLayer(){this.popBtn=null,this.settings={w:300,h:300,title:"",direction:"center",mark:!1,animation:{switchState:!1,animaStyle:"fade",speed:100,opacity:100},callback:function(){}}}function $(t){return document.getElementById(t)}function extend(t,e){for(var n in e)t[n]=e[n]}function viewWidth(){return document.documentElement.clientWidth}function viewHeight(){return document.documentElement.clientHeight}function getStyle(t,e){return t.currentStyle?t.currentStyle[e]:getComputedStyle(t,!1)[e]}function startMove(t,e,n,i){clearInterval(t.timer),t.timer=setInterval(function(){var n=!0;for(var a in e){var s=0;s="opacity"==a?Math.round(100*getStyle(t,a)):parseInt(getStyle(t,a));var o=(e[a]-s)/7;o=o>0?Math.ceil(o):Math.floor(o),s!=e[a]&&(n=!1),"opacity"==a?(t.style.filter="alpha(opacity="+(s+o)+")",t.style.opacity=(s+o)/100):t.style[a]=s+o+"px"}n&&(clearInterval(t.timer),i&&i.call(t))},n)}function tabMenu(){this.tabMenu=null,this.tabBtn=null,this.tabDiv=null,this.iNow=0,this.setting={event:"click",delay:0,animation:!1,slideDelay:50}}function $(t){return document.getElementById(t)}function extend(t,e){for(var n in e)t[n]=e[n]}function addEvent(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,function(){n.bind(t)})}function addClass(t,e){var n=t.className.split("");if(!n[0])return void(t.className=e);for(var i=0;i<n.length;i++)if(n[i]==e)return;t.className+=" "+e}function removeClass(t,e){var n=t.className.split(" ");if(n[0])for(var i=0;i<n.length;i++)if(n[i]==e)return n.splice(i,1),void(t.className=n.join(" "))}function getStyle(t,e){return t.currentStyle?t.currentStyle[e]:getComputedStyle(t,!1)[e]}function startMove(t,e,n,i){clearInterval(t.timer),t.timer=setInterval(function(){var n=!0;for(var a in e){var s=0;s="opacity"==a?Math.round(100*getStyle(t,a)):parseInt(getStyle(t,a));var o=(e[a]-s)/7;o=o>0?Math.ceil(o):Math.floor(o),s!=e[a]&&(n=!1),"opacity"==a?(t.style.filter="alpha(opacity="+(s+o)+")",t.style.opacity=(s+o)/100):t.style[a]=s+o+"px"}n&&(clearInterval(t.timer),i&&i.call(t))},n)}Drag.prototype.init=function(t){var e=this;extend(e.settings,t),e.obj=$(e.settings.id),e.obj.onmousedown=function(t){var n=t||window.event;return e.fnDown(n),e.settings.toDown(),document.onmousemove=function(t){var n=t||window.event;e.fnMove(n)},document.onmouseup=function(){e.fnUp(),e.settings.toUp()},!1}},Drag.prototype.fnDown=function(t){this.disX=t.clientX-this.obj.offsetLeft,this.disY=t.clientY-this.obj.offsetTop},Drag.prototype.fnMove=function(t){this.obj.style.left=t.clientX-this.disX+"px",this.obj.style.top=t.clientY-this.disY+"px"},Drag.prototype.fnUp=function(){document.onmousemove=null,document.onmouseup=null},multiSelect.prototype={init:function(t,e){var n=this;extend(n.settings,e),n.selectLi=$("selLeftCon").getElementsByClassName("select-li"),n.alSelectLi=$(t).getElementsByClassName("select-li"),n.addBtn=$("addAnBtn"),n.delBtn=$("delAnBtn"),n.addAllBtn=$("addAllBtn"),n.delAllBtn=$("delAllBtn"),n.selLeftCon=$("selLeftCon").getElementsByClassName("select-left-ul")[0],n.selRightCon=$("selRightCon").getElementsByClassName("select-right-ul")[0],n.initClickEvent(),n.initBtnEvent(),n.settings.callback()},initClickEvent:function(){var t=this;t.selectLi;t.clickEvent(),t.dblClickEvent()},clickEvent:function(t){function e(){for(var t=this,e=0;e<a.length;e++)removeClass(a[e],"select-active");addClass(a[t.index],"select-active")}for(var n=this,i=n.selLeftCon,a=n.selectLi,t=0;t<a.length;t++)a[t].index=t,a[t].onclick=e();i.addEventListener("click",function(){function t(){for(var t=this,e=0;e<a.length;e++)removeClass(a[e],"select-active");addClass(a[t.index],"select-active")}for(var e=0;e<a.length;e++)console.log(e),a[e].index=e,a[e].onclick=t()})},dblClickEvent:function(t){function e(){var t=this.parentNode,e=this;if(hasClass(t,"select-left-ul")===!0){var i=n.selRightCon;t.removeChild(e),i.appendChild(e)}}for(var n=this,i=n.selectLi,t=0;t<i.length;t++)i[t].index=t,i[t].ondblclick=e()},initBtnEvent:function(){var t=this,e=t.addBtn,n=(t.delBtn,t.addAllBtn),i=t.delAllBtn,a=t.selectLi,s=t.alSelectLi,o=t.selLeftCon,l=t.selRightCon;e.onclick=function(){for(var t=0;t<a.length;t++)hasClass(a[t],"select-active")&&l.appendChild(a[t])},i.onclick=function(){for(var t=0;t<a.length;t++)hasClass(a[t],"select-active")&&o.appendChild(a[t])},n.onclick=function(){window.confirm("是否确认全部添加?");for(var t=0;t<s.length;t++)console.log(t),l.appendChild(s[t])},i.onclick=function(){window.confirm("是否确认全部删除?");for(var t=0;t<s.length;t++)o.appendChild(s[t])}}},popLayer.prototype={init:function(t){var e=this;extend(e.settings,t),e.create(),e.fnClose(),e.settings.callback()},create:function(){var t=this;t.outLayer=document.createElement("div"),t.outLayer.className="out-layer",t.outLayer.innerHTML='<div class="out-head"><span class="out-title">'+t.settings.title+'</span><span class="out-close">X</span></div><div class="content"></div>',document.body.appendChild(t.outLayer),t.settings.animation.switchState===!0?(t.setLocation(t.settings.direction),t.animationStyle(t.settings.animation.animaStyle,t.settings.animation.speed)):t.setLocation(t.settings.direction)},animationStyle:function(){var t=this;"slide"===t.settings.animation.animaStyle&&(t.outLayer.style.height=0,t.animation=startMove(t.outLayer,{height:t.settings.h},t.settings.animation.speed)),"fade"===t.settings.animation.animaStyle&&(t.outLayer.style.opacity=0,t.animation=startMove(t.outLayer,{opacity:100},t.settings.animation.speed))},setLocation:function(t){var e=this;e.outLayer.style.width=e.settings.w+"px",e.outLayer.style.height=e.settings.h+"px";var n=viewHeight()-e.outLayer.offsetHeight,i=document.body.scrollTop,a=viewWidth()-e.outLayer.offsetWidth;switch(t){case"center":e.outLayer.style.left=a/2+"px",e.outLayer.style.top=n/2+i+"px";break;case"left":e.outLayer.style.left="0px",e.outLayer.style.top=n/2+i+"px";break;case"right":e.outLayer.style.left=a+"px",e.outLayer.style.top=n/2+i+"px"}},fnClose:function(){var t=this,e=t.outLayer.getElementsByTagName("span")[1];e.onclick=function(){document.body.removeChild(t.outLayer)}}},tabMenu.prototype.init=function(t,e){var n=this;extend(n.setting,e),n.parent=$(t),n.tabBtn=n.parent.getElementsByClassName("tab-btn"),n.tabDiv=n.parent.getElementsByClassName("tab-con"),this.changeTab()},tabMenu.prototype.changeTab=function(){for(var t=this,e=t.tabBtn,n=t.tabDiv,i=0;i<e.length;i++)console.log(this),e[i].index=i,addEvent(e[i],t.setting.event,function(){if(t.setting.animation===!1){for(var i=0;i<e.length;i++)n[i].style.display="none",e[i].className="tab-btn";this.className="tab-btn activeBon",n[this.index].style.display="block"}else{for(var a=0;a<e.length;a++)n[a].style.display="none",n[a].style.opacity=0,n[a].style.height=0,e[a].className="tab-btn";this.className="tab-btn activeBon",n[this.index].style.display="block",startMove(n[this.index],{opacity:100,height:200},t.setting.slideDelay)}})};